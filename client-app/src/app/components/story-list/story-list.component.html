<div class="story-list-container">
  <div class="search-container">
    <input 
      type="text" 
      [(ngModel)]="searchText" 
      placeholder="search in title ..."
      (keyup.enter)="handleSearch()"
    >
    <button class="primary-button" (click)="handleSearch()">Search</button>
  </div>

  <div *ngIf="isSearchMode" class="search-header">
    <div class="search-info">
      Showing results for "{{searchText}}"
    </div>
    <button class="clear-search primary-button" (click)="clearSearch()">
      Clear Search
    </button>
  </div>

  <div class="stories-section" [class.loading-overlay]="isLoading">
    <div class="stories">
      <app-story-item 
        *ngFor="let story of stories; let i = index" 
        [story]="story"
        [sequenceNumber]="(currentPage - 1) * pageSize + i + 1">
      </app-story-item>
    </div>

    <div class="pagination">
      <div style="margin-right: 15px;" *ngIf="!isSearchMode">
        <label for="pageSizeSelect" style="margin-right: 5px;">Items per page</label>
        <select 
          id="pageSizeSelect"
          [(ngModel)]="pageSize" 
          (change)="onPageSizeChange()">
          <option [value]="5">5</option>
          <option [value]="10" selected>10</option>
          <option [value]="20">20</option>
          <option [value]="50">50</option>
        </select>
      </div>

      <button 
        (click)="previousPage()" 
        [disabled]="!canGoPrevious">
        Previous
      </button>
      <span>Page {{ currentPage }}</span>
      <button 
        (click)="nextPage()" 
        [disabled]="!canGoNext">
        Next
      </button>
    </div>

  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>
</div>
